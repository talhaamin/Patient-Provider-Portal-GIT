@using AMR.Models;
@using AMR.Core.Extensions;
@using System.Text;
@using System.Web.Optimization;
@model HomeViewModel
@{
    ViewBag.Title = "ProblemIndex";
    Layout = "~/Views/Shared/_LayoutMasterPage.cshtml";
}
@Styles.Render("~/Index/css")

@section Scripts
{
<script>
   
    $(document).ready(function () {
       // $("#txtCountRefills").mask("99999");

        var model = @Html.Raw(Json.Encode(Model.FacilityVisitSelect));
                if(model.facilityOptions != null && model.visitOptions != null)
                {
                    var VisitHome = document.getElementById('cmbVisitsHome');
                    VisitHome.innerHTML = model.visitOptions;
                    var FacilityHome = document.getElementById('cmbFacilityHome');
                    FacilityHome.innerHTML = model.facilityOptions;
                    $('#cmbFacilityHome').val(model.facilitySelected);
                    $('#cmbVisitsHome').val(model.visitSelected);
                }
                else{
                    $('#cmbFacilityHome').val(model.facilitySelected);
                    $('#cmbVisitsHome').val(model.visitSelected);
                }
                if ($('#cmbFacilityHome option:selected').text() == 'Patient Entered') {
                    $('#createaddproblems').css('display', 'block');
                    $('#cmbVisitsHome').text("");
                    $('#cmbVisitsHome').attr('disabled', true);
                    $('.showHideThisProblem').show();
                }
                else {
                    $('#createaddproblems').css('display', 'none');
                    $('#cmbVisitsHome').attr('disabled', false);
                    $('.showHideThisProblem').hide();
                }
                if($("#cmbFacilityHome").val() == 0){
                    $(".HideEditDelete").css('display', 'block');
                }
                else
                {
                    $(".HideEditDelete").css('display', 'none');
                }
    });
   
//    $(document).ready(function () {
          


//        $("#txtSearch").autocomplete({

//            select: function (event, ui) {

//                $("#txtSearchID").val(ui.item.data);
//                $("#txtSearchText").val(ui.item.value);
//                //alert(ui.item.data);
//                // alert(ui.item.value);
//                //$("#PatName").show();
//                //return false;
//            }
//        });
//        $("#txtSearch").autocomplete({
//            source: function (request, response) {
//                $.ajax({
//                    url: "index-problemslist-get",
//                    type: "POST",
//                    dataType: "json",
//                    data: { term: request.term },
//                    success: function (data) {
//                        response($.map(data, function (item) {

//                            return { data: item.ProblemID, value: item.Value };
//                        }))

//                    }
//                })
//            },
//            messages: {
//                noResults: "", results: ""
//            }
//        });

//    });
//    $(function () {
//        $('#txtProblemsDate_Month').change(function () {
//            var date = $('#txtProblemsDate_Day').val();
//            var month = $('#txtProblemsDate_Month option:selected').val();
//            var year = $('#txtProblemsDate_Year option:selected').val();
//            if (date == "--" && month == "--" && year == "--") {
//                date = "";
//                month = "";
//                year = "";
//            }
//            else if (date == "--" && month == "--") { date = ""; month = ""; }
//            else if (date == "--" && year == "--") { date = ""; year = ""; }
//            else if (month == "--" && year == "--") { month = ""; year = ""; }
//            else if (date == "--") { date = ""; }
//            else if (month == "--") { month = ""; }
//            else if (year == "--") { year = ""; }
//            var value = year + month + date;
//            $('#txtProblemsDate').val(value);

//        });

//        $('#txtProblemsDate_Day').change(function () {
//            //var value = $('#txtProblemsDate_Year').val()
//            //  + $('#txtProblemsDate_Month option:selected').val()  + $('#txtProblemsDate_Day option:selected').val() ;    
//            //$('#txtProblemsDate').val(value);
//            var date = $('#txtProblemsDate_Day').val();
//            var month = $('#txtProblemsDate_Month option:selected').val();
//            var year = $('#txtProblemsDate_Year option:selected').val();
//            if (date == "--" && month == "--" && year == "--") {
//                date = "";
//                month = "";
//                year = "";
//            }
//            else if (date == "--" && month == "--") { date = ""; month = ""; }
//            else if (date == "--" && year == "--") { date = ""; year = ""; }
//            else if (month == "--" && year == "--") { month = ""; year = ""; }
//            else if (date == "--") { date = ""; }
//            else if (month == "--") { month = ""; }
//            else if (year == "--") { year = ""; }
//            var value = year + month + date;
//            $('#txtProblemsDate').val(value);
//        });
//        $('#txtProblemsDate_Year').change(function () {
//            //var value = $('#txtProblemsDate_Year').val()
//            // + $('#txtProblemsDate_Month option:selected').val()  + $('#txtProblemsDate_Day option:selected').val() ;
//            //$('#txtProblemsDate').val(value);
//            var date = $('#txtProblemsDate_Day').val();
//            var month = $('#txtProblemsDate_Month option:selected').val();
//            var year = $('#txtProblemsDate_Year option:selected').val();
//            if (date == "--" && month == "--" && year == "--") {
//                date = "";
//                month = "";
//                year = "";
//            }
//            else if (date == "--" && month == "--") { date = ""; month = ""; }
//            else if (date == "--" && year == "--") { date = ""; year = ""; }
//            else if (month == "--" && year == "--") { month = ""; year = ""; }
//            else if (date == "--") { date = ""; }
//            else if (month == "--") { month = ""; }
//            else if (year == "--") { year = ""; }
//            var value = year + month + date;
//            //alert(value);
//            $('#txtProblemsDate').val(value);
//        });



//        $('#txtProblemsLastDate_Month').change(function () {
//            //      var value = $('#txtProblemsLastDate_Month option:selected').val()
//            //+ $('#txtProblemsLastDate_Day option:selected').val() +  $('#txtProblemsLastDate_Year').val();
//            //      $('#txtPlastDate').val(value);
//            var date = $('#txtProblemsLastDate_Day option:selected').val();
//            var month = $('#txtProblemsLastDate_Month option:selected').val();
//            var year = $('#txtProblemsLastDate_Year').val();
//            if (date == "--" && month == "--" && year == "--") {
//                date = "";
//                month = "";
//                year = "";
//            }
//            else if (date == "--" && month == "--") { date = ""; month = ""; }
//            else if (date == "--" && year == "--") { date = ""; year = ""; }
//            else if (month == "--" && year == "--") { month = ""; year = ""; }
//            else if (date == "--") { date = ""; }
//            else if (month == "--") { month = ""; }
//            else if (year == "--") { year = ""; }
//            var value = year + month + date;
//            $('#txtPlastDate').val(value);

//        });

//        $('#txtProblemsLastDate_Day').change(function () {
//            //      var value = $('#txtProblemsLastDate_Month option:selected').val()
//            //+ $('#txtProblemsLastDate_Day option:selected').val() +  $('#txtProblemsLastDate_Year').val();
//            //      $('#txtPlastDate').val(value);
//            var date = $('#txtProblemsLastDate_Day option:selected').val();
//            var month = $('#txtProblemsLastDate_Month option:selected').val();
//            var year = $('#txtProblemsLastDate_Year').val();
//            if (date == "--" && month == "--" && year == "--") {
//                date = "";
//                month = "";
//                year = "";
//            }
//            else if (date == "--" && month == "--") { date = ""; month = ""; }
//            else if (date == "--" && year == "--") { date = ""; year = ""; }
//            else if (month == "--" && year == "--") { month = ""; year = ""; }
//            else if (date == "--") { date = ""; }
//            else if (month == "--") { month = ""; }
//            else if (year == "--") { year = ""; }
//            var value = year + month + date;
//            $('#txtPlastDate').val(value);
//        });
//        $('#txtProblemsLastDate_Year').change(function () {
//            //      var value = $('#txtProblemsLastDate_Month option:selected').val()
//            //+ $('#txtProblemsLastDate_Day option:selected').val() +  $('#txtProblemsLastDate_Year').val();
//            //      $('#txtPlastDate').val(value);
//            var date = $('#txtProblemsLastDate_Day option:selected').val();
//            var month = $('#txtProblemsLastDate_Month option:selected').val();
//            var year = $('#txtProblemsLastDate_Year').val();
//            if (date == "--" && month == "--" && year == "--") {
//                date = "";
//                month = "";
//                year = "";
//            }
//            else if (date == "--" && month == "--") { date = ""; month = ""; }
//            else if (date == "--" && year == "--") { date = ""; year = ""; }
//            else if (month == "--" && year == "--") { month = ""; year = ""; }
//            else if (date == "--") { date = ""; }
//            else if (month == "--") { month = ""; }
//            else if (year == "--") { year = ""; }
//            var value = year + month + date;
//            //alert(value);
//            $('#txtPlastDate').val(value);
//        });
//    });


//    function clearProblemcontrol()
//    {
//        $('#txtProblemsDate_Month').val("--");
//        $('#txtProblemsDate_Day').val("--");
//        $('#txtProblemsDate_Year').val("--");
//        $('#txtProblemsLastDate_Month').val("--");
//        $('#txtProblemsLastDate_Day').val("--");
//        $('#txtProblemsLastDate_Year').val("--");
//        $('#txtSearch').val("");
//        $('#cmbConditionStatusProb').val("-1");
//        $("#txtProblemsDescription").val("");
//    }

   
 
//    function clinicalSummary(id, flag) {
//        if ($("#cmbFacilityHome").val() == 0) {
//            $(".HideEditDelete").css('display', 'block');
//        }
//        else {
//            $(".HideEditDelete").css('display', 'none');
//        }
//        if (flag == 'visit') {
//            sec_arg = $('#cmbFacilityHome option:selected').val();
//        }
//        else if (flag == 'location') {
//            sec_arg = id;
//            id = $('#cmbVisitsHome option:selected').val();
//        }
//        var facilityOptions = document.getElementById('cmbFacilityHome').innerHTML;
//        var visitOptions = document.getElementById('cmbVisitsHome').innerHTML;
//        var facilitySelected = $('#cmbFacilityHome option:selected').val();
//        var visitSelected = $('#cmbVisitsHome option:selected').val();
//        // alert(facilityOptions);
//        // alert(visitOptions);
//        if (flag == 'location') {

//            //filling dropdown start 
//            try {
//                ShowLoader();
//                //var IsPrimaryData =
//                var requestData = {

//                    FacilityId: sec_arg,
//                    ExtensionToggleFunct: " toggle_combobox();",
//                    ExtensionFilterFunct: "clinicalSummary(this.value,'visit');",
//                    ExtensionIdName: "cmbVisitsHome",
//                    facilityOptions: facilityOptions,
//                    visitOptions: visitOptions,
//                    facilitySelected: facilitySelected,
//                    visitSelected: visitSelected
//                    // VisitId: id

//                };


//                $.ajax({
//                    type: 'POST',
//                    url: 'clinical-summary-visit-dropdown',
//                    data: JSON.stringify(requestData),
//                    dataType: 'json',
//                    contentType: 'application/json; charset=utf-8',
//                    success: function (data) {
//                        // if success

//                        $("#homeComboBoxPortlet").html(data);
//                        id = $('#cmbVisitsHome option:selected').val();
//                        // alert(id);

//                        visitOptions = document.getElementById('cmbVisitsHome').innerHTML;
//                        visitSelected = $('#cmbVisitsHome option:selected').val();

//                        try {
//                            ShowLoader();
//                            //var IsPrimaryData =
//                            var requestData = {

//                                FacilityId: sec_arg,
//                                VisitId: id,
//                                facilityOptions: facilityOptions,
//                                visitOptions: visitOptions,
//                                facilitySelected: facilitySelected,
//                                visitSelected: visitSelected
//                            };


//                            $.ajax({
//                                type: 'POST',
//                                url: 'clinical-summary-problems-filter',
//                                data: JSON.stringify(requestData),
//                                dataType: 'json',
//                                contentType: 'application/json; charset=utf-8',
//                                success: function (data) {
//                                    // if success
//                                    $("#problem-portlet-tab").html(data);
//                                    HideLoader();
//                                    toggle_combobox();
                                    
//                                    $('#tab-problems').fixedHeaderTable();

//                                },
//                                error: function (xhr, ajaxOptions, thrownError) {
//                                    //if error
//                                    var myCookie = getCookie(".Patient");

//                                    if (myCookie == null) {
//                                        // do cookie doesn't exist stuff;
//                                        alert('Not logged in. Please log in to continue');
//                                        window.location = '/Login'
//                                        //xhr.getResponseHeader('Location');
//                                    }
//                                    else {

//                                        alert('Error : ' + xhr.message);
//                                    }
//                                    HideLoader();
//                                },
//                                complete: function (data) {
//                                    // if completed


//                                },
//                                async: true,
//                                processData: false
//                            });
//                        } catch (err) {

//                            if (err && err !== "") {
//                                alert(err.message);
//                            }
//                        }


//                    },
//                    error: function (xhr, ajaxOptions, thrownError) {
//                        //if error
//                        var myCookie = getCookie(".Patient");

//                        if (myCookie == null) {
//                            // do cookie doesn't exist stuff;
//                            alert('Not logged in. Please log in to continue');
//                            window.location = '/Login'
//                            //xhr.getResponseHeader('Location');
//                        }
//                        else {

//                            alert('Error : ' + xhr.message);
//                        }
//                        // HideLoader();
//                    },
//                    complete: function (data) {
//                        // if completed
//                        //  HideLoader();

//                    },
//                    async: true,
//                    processData: false
//                });
//            } catch (err) {

//                if (err && err !== "") {
//                    alert(err.message);
//                }
//            }
//            //filling visit drop down end
//        }


//        if (flag == 'visit') {
//            //start Consolidate Call For Home Widgets Filter....
//            visitOptions = document.getElementById('cmbVisitsHome').innerHTML;
//            visitSelected = $('#cmbVisitsHome option:selected').val();
//            // alert(visitOptions);
//            // alert(visitSelected);
//            try {
//                ShowLoader();
//                //var IsPrimaryData =
//                var requestData = {

//                    FacilityId: sec_arg,
//                    VisitId: id,
//                    facilityOptions: facilityOptions,
//                    visitOptions: visitOptions,
//                    facilitySelected: facilitySelected,
//                    visitSelected: visitSelected
//                };


//                $.ajax({
//                    type: 'POST',
//                    url: 'clinical-summary-problems-filter',
//                    data: JSON.stringify(requestData),
//                    dataType: 'json',
//                    contentType: 'application/json; charset=utf-8',
//                    success: function (data) {
//                        // if success
//                        $("#problem-portlet-tab").html(data);
//                        HideLoader();
//                        toggle_combobox();
//                        $('#tab-problems').fixedHeaderTable();
//                    },
//                    error: function (xhr, ajaxOptions, thrownError) {
//                        //if error
//                        var myCookie = getCookie(".Patient");

//                        if (myCookie == null) {
//                            // do cookie doesn't exist stuff;
//                            alert('Not logged in. Please log in to continue');
//                            window.location = '/Login'
//                            //xhr.getResponseHeader('Location');
//                        }
//                        else {

//                            alert('Error : ' + xhr.message);
//                        }
//                        HideLoader();
//                    },
//                    complete: function (data) {
//                        // if completed


//                    },
//                    async: true,
//                    processData: false
//                });
//            } catch (err) {

//                if (err && err !== "") {
//                    alert(err.message);
//                }
//            }

//        }
//        //ending Consolidate Call For Home Widgets Filter....

//    }


//    //edit delete function start for problems
//    function OpenTabProblemRecord(id){
//        try {

            
//            //$('.HideEditDelete').css('display', 'block');

//            var obj = jQuery.parseJSON($("#hdProblemTab-" + id).val());
//            $('#txtproblemID').val(id);
//            $('#txtProblemsDate').val($.trim(obj.EffectiveDate));
//            $('#txtPlastDate').val($.trim(obj.LastChangeDate));
//            $('#txtProblemsDescription').val($.trim(obj.Note));
//            $('#txtSearch').val($.trim(obj.Condition));
//            $('#txtSearchText').val($.trim(obj.Condition));
//            $('#txtSearchID').val($.trim(obj.CodeValue));
//            $('#cmbConditionStatusProb').val($.trim(obj.ConditionStatusId));
//            var year = obj.EffectiveDate[0];
//            year += obj.EffectiveDate[1];
//            year += obj.EffectiveDate[2];
//            year += obj.EffectiveDate[3];
//            var mon = obj.EffectiveDate[4];
//            mon += obj.EffectiveDate[5];
//            var date = obj.EffectiveDate[6];
//            date += obj.EffectiveDate[7];

//            $('#txtProblemsDate_Month').val(mon);
//            $('#txtProblemsDate_Day').val(date);
//            $('#txtProblemsDate_Year').val(year);


//            var lyear = obj.LastChangeDate[0];
//            lyear += obj.LastChangeDate[1];
//            lyear += obj.LastChangeDate[2];
//            lyear += obj.LastChangeDate[3];
//            var lmon = obj.LastChangeDate[4];
//            lmon += obj.LastChangeDate[5];
//            var ldate = obj.LastChangeDate[6];
//            ldate += obj.LastChangeDate[7];
//            $('#txtProblemsLastDate_Month').val(lmon);
//            $('#txtProblemsLastDate_Day').val(ldate);
//            $('#txtProblemsLastDate_Year').val(lyear);

//            $("#addproblems-form")
//      .next(".ui-dialog-buttonpane")
//      .find("button:contains('Save')")
//      .button("option", "disabled", true);

//            $('#txtProblemsDate_Month').attr("disabled", true);
//            $('#txtProblemsDate_Day').attr("disabled", true);
//            $('#txtProblemsDate_Year').attr("disabled", true);
//            $('#txtProblemsLastDate_Month').attr("disabled", true);
//            $('#txtProblemsLastDate_Day').attr("disabled", true);
//            $('#txtProblemsLastDate_Year').attr("disabled", true);
//            $('#txtSearch').attr("disabled", true);
//            $('#txtProblemsDate').attr("disabled", true);
//            $('#txtPlastDate').attr("disabled", true);
//            $('#txtProblemsDescription').attr("disabled", true);
//            $('#btnproblemSearch').attr("disabled", true);
//            $('#cmbConditionStatusProb').attr("disabled", true);


//        } catch (e) {
//            alert(e.message);
//        }
//        $('#hdFlag').val('problemTab');
//        $("#addproblems-form").dialog('option', 'title', 'Problem Details');
//        $("#addproblems-form").dialog("open");
        
//    }

//    function EditProblemsTab(){
//        $("#addproblems-form")
//  .next(".ui-dialog-buttonpane")
//  .find("button:contains('Save')")
//  .button("option", "disabled", false);
//        $("#addproblems-form").dialog('option', 'title', 'Edit Problem');
//        $('#txtProblemsDate_Month').attr("disabled", false);
//        $('#txtProblemsDate_Day').attr("disabled", false);
//        $('#txtProblemsDate_Year').attr("disabled", false);
//        $('#txtProblemsLastDate_Month').attr("disabled", false);
//        $('#txtProblemsLastDate_Day').attr("disabled", false);
//        $('#txtProblemsLastDate_Year').attr("disabled", false);
//        $('#txtSearch').attr("disabled", false);
//        $('#txtProblemsDate').attr("disabled", false);
//        $('#txtPlastDate').attr("disabled", false);
//        $('#txtProblemsDescription').attr("disabled", false);
//        $('#btnproblemSearch').attr("disabled", false);
//        $('#cmbConditionStatusProb').attr("disabled", false);
        
//        editflagProblemsTabs=1;
            
//    }

//    function DeleteProblemTab(){
//        $("#addproblems-form").dialog("close");
//        chkAccess();
//        ShowLoader();
//        try {
//           // $('#txtproblemID').val(id);
//            var requestData = {
//                PatientProblemCntr: $.trim($('#txtproblemID').val())
//            };

//            $.ajax({
//                type: 'POST',
//                url: 'problems-delete',
//                data: JSON.stringify(requestData),
//                dataType: 'json',
//                contentType: 'application/json; charset=utf-8',
//                success: function (data) {
//                    // if success

//                    //  $("#problem-portlet").html(data[0]);
//                    //  alert(data[1])
//                    $("#problem-portlet-tab").html(data[1]);
//                    $("#tab-Problems").fixedHeaderTable();
//                    HideLoader();

//                },
//                error: function (xhr, ajaxOptions, thrownError) {
//                    //if error
//                    var myCookie = getCookie(".Patient");

//                    if (myCookie == null) {
//                        // do cookie doesn't exist stuff;
//                        alert('Not logged in. Please log in to continue');
//                        window.location = '/Login'
//                        //xhr.getResponseHeader('Location');
//                    }
//                    else {

//                        alert('Error : ' + xhr.message);
//                    }
//                    HideLoader();
//                },
//                complete: function (data) {
//                    // if completed
//                    HideLoader();

//                },
//                async: true,
//                processData: false
//            });

//        } catch (err) {

//            if (err && err !== "") {
//                alert(err.message);
//                HideLoader();
//            }
//        }
//    }
//    $(function () {

//        tips = $(".validateTips");
//        var ConditionStatus = $("#cmbConditionStatusProb"),


//           allFields = $([]).add(ConditionStatus),
//           tips = $(".validateTips");
//        function updateTips(t) {
//            tips
//            .text(t)
//            .addClass("ui-state-highlight ui-corner-all");
//            setTimeout(function () {
//                //  tips.removeClass("ui-state-highlight", 1500);
//            }, 500);
//        }
//        function checkLength(o, n) {

//            if (o.val() == -1) {
//                o.addClass("ui-state-error");
//                updateTips(n);
//                return false;
//            } else {
//                return true;
//            }
//        }


//        $("#addproblems-form").dialog({
//            autoOpen: false,
//            show: {
//                effect: "blind",
//                duration: 1000
//            },
//            hide: {
//                effect: "blind",
//                duration: 1000
//            },


//            width: 600,
//            modal: true,
//            buttons: {
//                "Save": function () {
//                    chkAccess();
//                    var bValid = true;
//                    //if(editflagProblemsTabs!=1){bValid=false;}
//                    //allFields.removeClass("ui-state-error");
                    
//                    if ($('#txtProblemsDate_Year option:selected').val() == '--' && $('#txtProblemsDate_Day option:selected').val() == '--' && $('#txtProblemsDate_Month option:selected').val() == '--') {
//                        alert('Please select Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }
//                    else if ($('#txtProblemsDate_Year option:selected').val() == '--' && $('#txtProblemsDate_Day option:selected').val() != '--') {
//                        alert('Please select Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }
//                    else if ($('#txtProblemsDate_Year option:selected').val() != '--' && $('#txtProblemsDate_Day option:selected').val() != '--' && $('#txtProblemsDate_Month option:selected').val() == '--') {
//                        alert('Please select Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }


//                    if ($('#txtProblemsLastDate_Year option:selected').val() == '--' && $('#txtProblemsLastDate_Day option:selected').val() == '--' && $('#txtProblemsLastDate_Month option:selected').val() == '--') {
//                        alert('Please select Last Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }
//                    else if ($('#txtProblemsLastDate_Year option:selected').val() == '--' && $('#txtProblemsLastDate_Day option:selected').val() != '--') {
//                        alert('Please select Last Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }
//                    else if ($('#txtProblemsLastDate_Year option:selected').val() != '--' && $('#txtProblemsLastDate_Day option:selected').val() != '--' && $('#txtProblemsLastDate_Month option:selected').val() == '--') {
//                        alert('Please select Last Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }
//                    else if ($('#txtProblemsLastDate_Year option:selected').val() == '--' && $('#txtProblemsLastDate_Month option:selected').val() != '--') {
//                        alert('Please select Last Year or Month and Year or Month, Day and Year');
//                        return false;
//                    }
//                    bValid = bValid && checkLength(ConditionStatus, "Please Select ConditionStatus");

//                    if (bValid) {
//                        var codVal = $.trim($('#txtSearchID').val());
//                        if ($.trim($('#txtSearchText').val()) == "")
//                        { codVal = 0; }

//                        //ajax 
//                        try {
//                            var requestData = {
//                                PatientProblemCntr: $.trim($('#txtproblemID').val()),
//                                EffectiveDate: $.trim($('#txtProblemsDate').val()),
//                                LastChangeDate: $.trim($('#txtPlastDate').val()),
//                                Description: $.trim($('#txtSearch').val()),
//                                Note: $.trim($('#txtProblemsDescription').val()),
//                                CodeValue: codVal,
//                                Condition: $.trim($('#txtSearchText').val()),
//                                ConditionStatusId: $.trim($('#cmbConditionStatusProb').val()),
//                                Flag: $.trim($('#hdFlag').val())
//                            };


//                            $.ajax({
//                                type: 'POST',
//                                url: 'clinical-summary-problems-save',
//                                data: JSON.stringify(requestData),
//                                dataType: 'json',
//                                contentType: 'application/json; charset=utf-8',
//                                success: function (data) {
//                                    //   alert("hi");
//                                    // alert(data[1]);
//                                    $("#problem-portlet-tab").html(data[1]);
//                                    $("#tab-Problems").fixedHeaderTable();
//                                },
//                                error: function (xhr, ajaxOptions, thrownError) {
//                                    //if error
//                                    var myCookie = getCookie(".Patient");

//                                    if (myCookie == null) {
//                                        // do cookie doesn't exist stuff;
//                                        alert('Not logged in. Please log in to continue');
//                                        window.location = '/Login'
//                                        //xhr.getResponseHeader('Location');
//                                    }
//                                    else {

//                                        alert('Error : ' + xhr.message);
//                                    }
//                                    HideLoader();
//                                },
//                                complete: function (data) {
//                                    // if completed
//                                    HideLoader();

//                                },
//                                async: true,
//                                processData: false
//                            });
//                        } catch (err) {

//                            if (err && err !== "") {
//                                alert(err.message);
//                                HideLoader();
//                            }
//                        }
//                        allFields.val("").removeClass("ui-state-error");
//                        $(".validateTips ").empty();
//                        $("span").removeClass("ui-state-highlight");
//                        $(this).dialog("close");
//                        ShowLoader();


//                        //                        end ajax


//                    }
//                },
//                Close: function () {
//                    allFields.val("").removeClass("ui-state-error");
//                    $(".validateTips ").empty();
//                    $("span").removeClass("ui-state-highlight");

//                    $(this).dialog("close");
//                }
//            },
//            close: function () {
//                $(this).dialog("close");
//            }
//        });
    
//        $("#createaddproblems").click(function () {
//            $('#txtproblemID').val('0');
//            $('#txtSearchID').val('0');
//            $('#txtSearchText').val('');
//            $('#txtSearch').attr("disabled", false);
//            $('#txtProblemsDate').attr("disabled", false);
//            $('#txtPlastDate').attr("disabled", false);
//            $('#txtProblemsDescription').attr("disabled", false);
//            $('#cmbConditionStatusProb').attr("disabled", false);

//            $('#btnproblemSearch').attr("disabled", false);
//            $('#txtProblemsDate_Month').attr("disabled", false);
//            $('#txtProblemsDate_Day').attr("disabled", false);
//            $('#txtProblemsDate_Year').attr("disabled", false);
//            $('#txtProblemsLastDate_Month').attr("disabled", false);
//            $('#txtProblemsLastDate_Day').attr("disabled", false);
//            $('#txtProblemsLastDate_Year').attr("disabled", false);
//            $('#hdFlag').val('problemWidg');
//            $('.ui-dialog-title').html("Add Problems");
//            clearProblemcontrol();
//            $("#addproblems-form")
//      .next(".ui-dialog-buttonpane")
//      .find("button:contains('Save')")
//      .button("option", "disabled", false);
//            $('.HideEditDelete').css('display', 'none');
//            $("#addproblems-form").dialog("open");
//            $("#addproblems-form")
// .next(".ui-dialog-buttonpane")
// .find("button:contains('Save')")
// .button("option", "disabled", false);

//        });
//        // $("#createaddproblems_tab").click(function () {
//        //    $('#txtproblemID').val('0');
//        //    $('#txtSearchID').val('0');
//        //    $('#txtSearchText').val('');
//        //    $('#txtSearch').attr("disabled", false);
//        //    $('#txtProblemsDate').attr("disabled", false);
//        //    $('#txtPlastDate').attr("disabled", false);
//        //    $('#cmbConditionStatusProb').attr("disabled", false);
//        //    $('#txtProblemsDescription').attr("disabled", false);
//        //    $('#btnproblemSearch').attr("disabled", false);
//        //    $('#txtProblemsDate_Month').attr("disabled", false);
//        //    $('#txtProblemsDate_Day').attr("disabled", false);
//        //    $('#txtProblemsDate_Year').attr("disabled", false);
//        //    $('#txtProblemsLastDate_Month').attr("disabled", false);
//        //    $('#txtProblemsLastDate_Day').attr("disabled", false);
//        //    $('#txtProblemsLastDate_Year').attr("disabled", false);
//        //    $('.ui-dialog-title').html("Add Problems");
//        //    $("#addproblems-form").dialog("open");

//        //    $('#hdFlag').val('problemTab');
//        //});
//    });
//    $(function(){
        
//        $('#deleteProblemTab').click(fnOpenNormalDialogProblems);
//    });
//    function fnOpenNormalDialogProblems() {
//        $("#dialog-confirm").html("Are you sure you want to delete this record?");

//        // Define the Dialog and its properties.
//        $("#dialog-confirm").dialog({
//            resizable: false,
//            modal: true,
//            title: "Confirm",
//            height: 140,
//            width: 400,
//            buttons: {
//                "Yes": function () {
//                    $(this).dialog('close');
//                    DeleteProblemTab();
//                },
//                "No": function () {
//                    $(this).dialog('close');
//                    //callback(false);
//                }
//            }
//        });
           
//    }
       
   

//        function toggle_combobox() {
//            if ($('#cmbFacilityHome :selected').text() != 'Patient Entered') {
//                $('#createaddproblems').css('display', 'none');
//                $('#cmbVisitsHome').attr('disabled', false);
//                $('.showHideThisProblem').hide();
//            }

//            else {

//                $('#cmbVisitsHome').text("");
//                $('#cmbVisitsHome').attr('disabled', true);
//                $('.showHideThisProblem').show();
//                $('#createaddproblems').css('display', 'block');
                
//                //$('#cmbVisitsHome').val(0);
//                //  $('#createPresentMedication,#createaddstatements,#createaddproblems,#addvitalscreation,#createaddimmunizations,#createaddPOC,#createaddClinicalInstructions,#createaddProcedures,#createaddallergies,#addvitalscreation,#createaddpast,#createaddfamily,#createaddappointments,#createaddsocial').css('display', 'block');
//            }

//        }



//        $(function () {
//            $("input[type=submit], a, button")
//            .button()
//            .click(function (event) {

//            });
//            $('.full-width').horizontalNav(
//{
//    responsive: false

//});
//        });
      </script>
    }
   
<div id="quicklinks" class="draggable ui-widget-content ui-corner-all" style="position: absolute; top: 20px; left: 3%; width: 94%; height: 70px;display:none;">
        <div id="cart" style="position: absolute; top: 1px; left: 0px; right: 0px;" class="ui-corner-all">
               <input id="hdFlag" type="hidden" value=" " />
            <div class="ui-widget-content" style="position: relative; top: 0px; border: none;">

              @*  <button onclick="ControllMessageCompose();HidevaluecmbMessageType()" id="createmsg"  class="beer ui-button ui-widget ui-state-default ui-corner-all"  style="font-size: 0.9em; font-weight: normal" title="Send Message" type="submit">
                    <img src="Content/img/2.png" />&nbsp;&nbsp;Compose Message</button>

                <button   onclick="ControllAppointment();" id="createappbtn" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal" title="Request Appointment" type="submit">
                    <img src="Content/img/3.png" style="margin-left:-7px;" />&nbsp;&nbsp;Appointment Request</button>


                <button id="refillMEd"  onclick="RefillDialog(); ControllRefill();" role="button" aria-disabled="false" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal"  title="Refill Medication" type="submit">
                    <img src="Content/img/4.png" />Refill Request</button>

                <button   onclick="ControllReferall();" id="createreqbtn" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal" title="Request Referral" type="submit">
                    <img src="Content/img/1.png" />&nbsp;&nbsp;Referral Request</button>*@
                   @if (@AMR.Core.Utilities.RequestHelper.MyGlobalVar.GeneralMessageAvailable){
                <button    onclick="ControllMessageCompose();HidevaluecmbMessageType()"id="createmsg"  class="beer ui-button ui-widget ui-state-default ui-corner-all"  style="font-size: 0.9em; font-weight: normal" title="Send Message" type="submit">
                    <img src="Content/img/2.png" />&nbsp;&nbsp;Compose Message</button>
                }
                else
                {
                      <button    onclick="ControllMessageCompose();HidevaluecmbMessageType()"id="createmsg"  class="beer ui-button ui-widget ui-state-default ui-corner-all"  style="font-size: 0.9em; font-weight: normal" title="Send Message" disabled="disabled" type="submit">
                    <img src="Content/img/2.png" />&nbsp;&nbsp;Compose Message</button>
                }
                @if (@AMR.Core.Utilities.RequestHelper.MyGlobalVar.AppointmentMessageAvailable)
                {
                <button   onclick="ControllAppointment();" id="createappbtn" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal" title="Request Appointment" type="submit">
                    <img src="Content/img/3.png" style="margin-left:-7px;" />&nbsp;&nbsp;Appointment Request</button>
                }
                else
                {
                      <button   onclick="ControllAppointment();" id="createappbtn" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal" title="Request Appointment" disabled="disabled" type="submit">
                    <img src="Content/img/3.png" style="margin-left:-7px;" />&nbsp;&nbsp;Appointment Request</button>
                }

                @if (@AMR.Core.Utilities.RequestHelper.MyGlobalVar.MedicationMessageAvailable)
                {
                <button id="refillMEd"   onclick="RefillDialog(); ControllRefill();" role="button" aria-disabled="false" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal"  title="Refill Medication" type="submit">
                    <img src="Content/img/4.png" />Refill Request</button>
                }
                else
                {
                     <button id="refillMEd"   onclick="RefillDialog(); ControllRefill();" role="button" aria-disabled="false" class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal"  title="Refill Medication" disabled="disabled" type="submit">
                    <img src="Content/img/4.png" />Refill Request</button>
                }
              
                  @if (AMR.Core.Utilities.RequestHelper.MyGlobalVar.ReferralMessageAvailable)
                  {
                <button    onclick="ControllReferall();" id="createreqbtn"  class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal" title="Request Referral" type="submit">
                    <img src="Content/img/1.png" />&nbsp;&nbsp;Referral Request</button>
                  }
                  else
                  {
                     <button    onclick="ControllReferall();" id="createreqbtn"  class="beer ui-button ui-widget ui-state-default ui-corner-all" style="font-size: 0.9em; font-weight: normal" title="Request Referral" disabled="disabled" type="submit">
                    <img src="Content/img/1.png" />&nbsp;&nbsp;Referral Request</button>
                  }
            </div>
        </div>
    </div>
<div id="Index" class="draggable ui-widget-content ui-corner-all" style="position: relative; top: 10px; height: 900px; left: 5px; width: 98%;">
    <div id="Div1Problem" class="draggable ui-widget-content ui-corner-all" style="position: absolute; top: 5px; left: 3%; width: 94%; height: 35px;">
        <div id="Div2" style="position: absolute; top: 1px; left: 0px; right: 0px;" class="ui-corner-all">

            <div id="combo-row" class="ui-widget-content">
                <ul>

                    <li class="col0 "><p style="margin-top:3px;margin-left:10px;">Location </p></li>
                    <li class="col1">
                        @Html.DropDownList("cmbFacilityHome", Model.Facilities.ToFacilityModelSelectList(), new { @class = "txt", style = "width:100%;", id = "cmbFacilityHome", @onchange = "clinicalSummary(this.value,'location'); toggle_combobox();  " })

                    </li>
                    <li class="col0"><p style="margin-top:3px;margin-left:10px;">Visit Date</p></li>
                    <li class="col1">
                        <div id="homeComboBoxPortlet">@Html.DropDownList("cmbVisitsHome", Model.Visits.ToVisitModelSelectList(), new { @class = "txt", style = "width:100%;", id = "cmbVisitsHome", @onchange = " clinicalSummary(this.value,'visit'); toggle_combobox();" }) </div>
                    </li>

                </ul>
            </div>
        </div>
    </div>
                             <div id="cart1" style="position: absolute; top: 50px;left:0px;  right: 5px;" class="ui-corner-all">
                                <h5 class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix" style="margin-top: -1px; font-weight: bold; padding: 3px;">Problems
                                        <!-- second ICON -->
                                 
                                    <!-- end of second icon-->


                                    <!-- third ICON -->
                                    <div id="createaddproblems" onmousemove="removing_class();" onmouseover="removing_class(); " onmousedown="removing_class();" onclick="removing_class(); clearFields();" onmouseout="removing_class();" onmouseup="removing_class();" onfocus="removing_class();" style="cursor: pointer; float: right; width: auto; height: 20px;">
                                        <img src="Content/img/add.png" />
                                        <span class="anc" style="padding-right: 4px;">Add</span>
                                    </div>
                                    <!-- end of third icon-->



                                </h5>
                                <div id="problem-portlet-tab" class="ui-widget-content" style="position: relative; top: 0px; border: none; overflow-y: auto; height: 760px;">
                                    @Html.Partial("~/Views/Templates/ClinicalSummary/_Tab_Problems.cshtml", Model.Problems)

                                </div>
                            </div>
                        </div>


<!--pop up add Problems-->
<div id="addproblems-form" title="Add Problem">
    <center>  <span   class="validateTips"></span></center>
    <div class="HideEditDelete"><img src="Content/img/edit.png" style="margin-left:370px;"/> <span class="anc" style=" font-weight: bold;" onclick="EditProblemsTab();">Edit</span>
<div style="margin-top:-23px;"><img src="Content/img/delete.png" style="margin-left:440px;"/><span id="deleteProblemTab"  class="anc" style=" font-weight: bold;" >Delete</span></div></div>
    <table width="100%">

        <tr>
            <td align="right">Onset Date:</td>
            <td><input type="hidden" id="txtproblemID" value="0"/>
                <input type="hidden" id="txtProblemsDate" class="txt" size="3" />
                
<select id="txtProblemsDate_Month" class="txt" style="width:50px">
		<option value="--"> -- </option>
	<option value="01">1</option>
	<option value="02">2</option>
	<option value="03">3</option>
	<option value="04">4</option>
	<option value="05">5</option>
	<option value="06">6</option>
	<option value="07">7</option>
	<option value="08">8</option>
	<option value="09">9</option>
	<option value="10">10</option>
	<option value="11">11</option>
	<option value="12">12</option>
</select>

<select id="txtProblemsDate_Day" class="txt" style="width:50px">
<option value="--"> -- </option>
	<option value="01">1</option>
	<option value="02">2</option>
	<option value="03">3</option>
	<option value="04">4</option>
	<option value="05">5</option>
	<option value="06">6</option>
	<option value="07">7</option>
	<option value="08">8</option>
	<option value="09">9</option>
	<option value="10">10</option>
	<option value="11">11</option>
	<option value="12">12</option>
	<option value="13">13</option>
	<option value="14">14</option>
	<option value="15">15</option>
	<option value="16">16</option>
	<option value="17">17</option>
	<option value="18">18</option>
	<option value="19">19</option>
	<option value="20">20</option>
	<option value="21">21</option>
	<option value="22">22</option>
	<option value="23">23</option>
	<option value="24">24</option>
	<option value="25">25</option>
	<option value="26">26</option>
	<option value="27">27</option>
	<option value="28">28</option>
	<option value="29">29</option>
	<option value="30">30</option>
	<option value="31">31</option>
</select>

<select id="txtProblemsDate_Year" class="txt" style="width:100px">
    <option value="--"> -- </option>
	<option value="2014">2014</option>
	<option value="2013">2013</option>
	<option value="2012">2012</option>
	<option value="2011">2011</option>
	<option value="2010">2010</option>
    <option value="2009">2009</option>
	<option value="2008">2008</option>
	<option value="2007">2007</option>
	<option value="2006">2006</option>
	<option value="2005">2005</option>
	<option value="2004">2004</option>
	<option value="2003">2003</option>
	<option value="2002">2002</option>
	<option value="2001">2001</option>
	<option value="2000">2000</option>
	<option value="1999">1999</option>
	<option value="1998">1998</option>
	<option value="1997">1997</option>
	<option value="1996">1996</option>
	<option value="1995">1995</option>
	<option value="1994">1994</option>
	<option value="1993">1993</option>
	<option value="1992">1992</option>
	<option value="1991">1991</option>
	<option value="1990">1990</option>
	<option value="1989">1989</option>
	<option value="1988">1988</option>
	<option value="1987">1987</option>
	<option value="1986">1986</option>
	<option value="1985">1985</option>
	<option value="1984">1984</option>
	<option value="1983">1983</option>
	<option value="1982">1982</option>
	<option value="1981">1981</option>
	<option value="1980">1980</option>
	<option value="1979">1979</option>
	<option value="1978">1978</option>
	<option value="1977">1977</option>
	<option value="1976">1976</option>
	<option value="1975">1975</option>
	<option value="1974">1974</option>
	<option value="1973">1973</option>
	<option value="1972">1972</option>
	<option value="1971">1971</option>
	<option value="1970">1970</option>
	<option value="1969">1969</option>
	<option value="1968">1968</option>
	<option value="1967">1967</option>
	<option value="1966">1966</option>
	<option value="1965">1965</option>
	<option value="1964">1964</option>
	<option value="1963">1963</option>
	<option value="1962">1962</option>
	<option value="1961">1961</option>
	<option value="1960">1960</option>
	<option value="1959">1959</option>
	<option value="1958">1958</option>
	<option value="1957">1957</option>
	<option value="1956">1956</option>
	<option value="1955">1955</option>
	<option value="1954">1954</option>
	<option value="1953">1953</option>
	<option value="1952">1952</option>
	<option value="1951">1951</option>
	<option value="1950">1950</option>
	<option value="1949">1949</option>
	<option value="1948">1948</option>
	<option value="1947">1947</option>
	<option value="1946">1946</option>
	<option value="1945">1945</option>
	<option value="1944">1944</option>
	<option value="1943">1943</option>
	<option value="1942">1942</option>
	<option value="1941">1941</option>
	<option value="1940">1940</option>
	<option value="1939">1939</option>
	<option value="1938">1938</option>
	<option value="1937">1937</option>
	<option value="1936">1936</option>
	<option value="1935">1935</option>
	<option value="1934">1934</option>
	<option value="1933">1933</option>
	<option value="1932">1932</option>
	<option value="1931">1931</option>
	<option value="1930">1930</option>
	<option value="1929">1929</option>
	<option value="1928">1928</option>
	<option value="1927">1927</option>
	<option value="1926">1926</option>
	<option value="1925">1925</option>
	<option value="1924">1924</option>
	<option value="1923">1923</option>
	<option value="1922">1922</option>
	<option value="1921">1921</option>
	<option value="1920">1920</option>
	<option value="1919">1919</option>
	<option value="1918">1918</option>
	<option value="1917">1917</option>
	<option value="1916">1916</option>
	<option value="1915">1915</option>
	<option value="1914">1914</option>
	<option value="1913">1913</option>
	<option value="1912">1912</option>
	<option value="1911">1911</option>
	<option value="1910">1910</option>
	<option value="1909">1909</option>
	<option value="1908">1908</option>
	<option value="1907">1907</option>
	<option value="1906">1906</option>
	<option value="1905">1905</option>
	<option value="1904">1904</option>
	<option value="1903">1903</option>
	<option value="1902">1902</option>
	<option value="1901">1901</option>
	<option value="1900">1900</option>
</select>

            </td>
        </tr>
        <tr>
            <td align="right"><span id="lblSearch" >Description:</span></td>
            <td>
                
                <input type="text" style="width:350px;" id="txtSearch" class="txt" size="3" />
                    <input type="hidden"  id="txtSearchID" />
                
                <input type="hidden"  id="txtSearchText" />
            </td>
        </tr>
           <tr>
            <td align="right">Date of Last Change:</td>
            <td>
                <input type="hidden" id="txtPlastDate" class="txt" size="3" />
                  <select id="txtProblemsLastDate_Month" class="txt" style="width:50px">
	<option value="--"> -- </option>
	<option value="01">1</option>
	<option value="02">2</option>
	<option value="03">3</option>
	<option value="04">4</option>
	<option value="05">5</option>
	<option value="06">6</option>
	<option value="07">7</option>
	<option value="08">8</option>
	<option value="09">9</option>
	<option value="10">10</option>
	<option value="11">11</option>
	<option value="12">12</option>
</select>

<select id="txtProblemsLastDate_Day" class="txt" style="width:50px">
	
	<option value="--"> -- </option>
	<option value="01">1</option>
	<option value="02">2</option>
	<option value="03">3</option>
	<option value="04">4</option>
	<option value="05">5</option>
	<option value="06">6</option>
	<option value="07">7</option>
	<option value="08">8</option>
	<option value="09">9</option>
	<option value="10">10</option>
	<option value="11">11</option>
	<option value="12">12</option>
	<option value="13">13</option>
	<option value="14">14</option>
	<option value="15">15</option>
	<option value="16">16</option>
	<option value="17">17</option>
	<option value="18">18</option>
	<option value="19">19</option>
	<option value="20">20</option>
	<option value="21">21</option>
	<option value="22">22</option>
	<option value="23">23</option>
	<option value="24">24</option>
	<option value="25">25</option>
	<option value="26">26</option>
	<option value="27">27</option>
	<option value="28">28</option>
	<option value="29">29</option>
	<option value="30">30</option>
	<option value="31">31</option>
</select>

<select id="txtProblemsLastDate_Year" class="txt" style="width:100px">
    <option value="--"> -- </option>
	<option value="2014">2014</option>
	<option value="2013">2013</option>
	<option value="2012">2012</option>
	<option value="2011">2011</option>
	<option value="2010">2010</option>
    <option value="2009">2009</option>
	<option value="2008">2008</option>
	<option value="2007">2007</option>
	<option value="2006">2006</option>
	<option value="2005">2005</option>
	<option value="2004">2004</option>
	<option value="2003">2003</option>
	<option value="2002">2002</option>
	<option value="2001">2001</option>
	<option value="2000">2000</option>
	<option value="1999">1999</option>
	<option value="1998">1998</option>
	<option value="1997">1997</option>
	<option value="1996">1996</option>
	<option value="1995">1995</option>
	<option value="1994">1994</option>
	<option value="1993">1993</option>
	<option value="1992">1992</option>
	<option value="1991">1991</option>
	<option value="1990">1990</option>
	<option value="1989">1989</option>
	<option value="1988">1988</option>
	<option value="1987">1987</option>
	<option value="1986">1986</option>
	<option value="1985">1985</option>
	<option value="1984">1984</option>
	<option value="1983">1983</option>
	<option value="1982">1982</option>
	<option value="1981">1981</option>
	<option value="1980">1980</option>
	<option value="1979">1979</option>
	<option value="1978">1978</option>
	<option value="1977">1977</option>
	<option value="1976">1976</option>
	<option value="1975">1975</option>
	<option value="1974">1974</option>
	<option value="1973">1973</option>
	<option value="1972">1972</option>
	<option value="1971">1971</option>
	<option value="1970">1970</option>
	<option value="1969">1969</option>
	<option value="1968">1968</option>
	<option value="1967">1967</option>
	<option value="1966">1966</option>
	<option value="1965">1965</option>
	<option value="1964">1964</option>
	<option value="1963">1963</option>
	<option value="1962">1962</option>
	<option value="1961">1961</option>
	<option value="1960">1960</option>
	<option value="1959">1959</option>
	<option value="1958">1958</option>
	<option value="1957">1957</option>
	<option value="1956">1956</option>
	<option value="1955">1955</option>
	<option value="1954">1954</option>
	<option value="1953">1953</option>
	<option value="1952">1952</option>
	<option value="1951">1951</option>
	<option value="1950">1950</option>
	<option value="1949">1949</option>
	<option value="1948">1948</option>
	<option value="1947">1947</option>
	<option value="1946">1946</option>
	<option value="1945">1945</option>
	<option value="1944">1944</option>
	<option value="1943">1943</option>
	<option value="1942">1942</option>
	<option value="1941">1941</option>
	<option value="1940">1940</option>
	<option value="1939">1939</option>
	<option value="1938">1938</option>
	<option value="1937">1937</option>
	<option value="1936">1936</option>
	<option value="1935">1935</option>
	<option value="1934">1934</option>
	<option value="1933">1933</option>
	<option value="1932">1932</option>
	<option value="1931">1931</option>
	<option value="1930">1930</option>
	<option value="1929">1929</option>
	<option value="1928">1928</option>
	<option value="1927">1927</option>
	<option value="1926">1926</option>
	<option value="1925">1925</option>
	<option value="1924">1924</option>
	<option value="1923">1923</option>
	<option value="1922">1922</option>
	<option value="1921">1921</option>
	<option value="1920">1920</option>
	<option value="1919">1919</option>
	<option value="1918">1918</option>
	<option value="1917">1917</option>
	<option value="1916">1916</option>
	<option value="1915">1915</option>
	<option value="1914">1914</option>
	<option value="1913">1913</option>
	<option value="1912">1912</option>
	<option value="1911">1911</option>
	<option value="1910">1910</option>
	<option value="1909">1909</option>
	<option value="1908">1908</option>
	<option value="1907">1907</option>
	<option value="1906">1906</option>
	<option value="1905">1905</option>
	<option value="1904">1904</option>
	<option value="1903">1903</option>
	<option value="1902">1902</option>
	<option value="1901">1901</option>
	<option value="1900">1900</option>
</select>
            </td>
        </tr>
        <tr>
            <td align="right">Condition Status:</td>
            <td>@Html.DropDownList("cmbConditionStatusProb", Model.ConditionStatus.ToConditionStatusModelSelectList(), new { @class = "txt", style = "width:65%;padding:2px;", id = "cmbConditionStatusProb" })</td>
        </tr>
       
       
        <tr>
            <td align="right">Note:</td>
            <td>
               <textarea type="text" id="txtProblemsDescription" class="txt" style="width: 350px; height: 100px;" ></textarea>
            </td>
        </tr>
    </table>
   @* <input type="hidden" id="querystringhd" value="@Model.Querystring.Flag" />*@

</div>
<!--End of popup add Problems-->

<div id="ComposeMessage" title="Compose Message" >
        <input type="hidden" id="hdSentFlag" value=""/><input type="hidden" id="hdReplyMessageId" value=""/>
        <input type="hidden" id="hdAttachmentName" value=""/>
        <input type="hidden" id="hdAttachmentTest" value=""/>
        <input type="hidden" id="hdFacilityId" value="test"/>
        <input type="hidden" id="hdProviderId_To" value=""/>
        <input type="hidden" id="hdMessageRequest" value=""/>
        <input type="hidden" id="hdMessageTypeId" value=""/>
        <input type="hidden" id="hdMessageUrgencyId" value=""/>
        <input type="hidden" id="hdFlag" value=""/>
    <div style="vertical-align:top;">
        <table>
            <tr>
               
                <td><input type="file" id="files" name="file" /><input id="my-simple-upload" type="file" value="" name="MyAttachFile" style="display:none;"/><input type="button" value="Browse..." id="browse" />@*<label id="BrowseName" style="margin-top:-20px;margin-left:100px"></label>*@</td>
                <td><input type="hidden" id="ByteData" value="" "/></td>
                <td><input type="hidden" id="FileBytes" value="" "/></td>
                <td><label id="BrowseName" style="margin-top:-20px;margin-left:60px"></label><input type="button" id="btncancelupload" value="Cancel" style="display: inline-block;margin-top:-1px;height:28px;" /></td>
            </tr>
        </table>
        <div id="progress_bar"><div class="percent">0%</div></div>
         @* <img src="Content/img/attach.gif" width="20px" style="margin-top: 0px; margin-left: -10px; margin-right: 10px;">
       *@ 
       </div>  <br>
        <p>
            @*Please note that you can expect to receive a response within 1 bussiness day*@
        </p>
        <div>
            <table width="705" height="180" border="1" style="border-color: rgb(166, 201, 226);">
                <tr style="border: 1px solid; border-color: rgb(166, 201, 226);">
                    <td height="40" colspan="2">
                        <p style="margin-left: 10px; margin-top: 10px;">
                            <b>Location:</b>
                     
                             @Html.DropDownList("cmbAppointmentFacility", Model.MessageFacilities.ToFacilityModelWithoutPatientEnteredSelectList(), new { @class = " txt  ui-corner-all bcom", style = "width:400px; margin-left:33px;", id = "cmbAppointmentFacility", @onchange = "LoadFacilityProviderSendMessage();" })
                                <span id="apDiv9" ><img id="loader1" src="Content/img/login-loader.gif"  style="margin-left:530px;  margin-top:-30px; display:none;" /></span>
                        </p>
                    </td>
                </tr>
                <tr style="border: 1px solid; border-color: rgb(166, 201, 226);">
                    <td height="40" colspan="2">
                        <p style="margin-left: 10px; margin-top: 10px;">
                            <b>To:</b>
                              <div id="DivLoadFacilityProviderSendMessage" style="margin-top:-30px;">
                             @Html.Partial("_FacilityProviderSendMessage", Model.Providers)
                             @* @Html.DropDownList("cmbAppointmentDoctor", Model.Providers.ToProviderModelSelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:405px; margin-left:72px;", id = "cmbAppointmentDoctor" })*@
                                 </div>
                        </p>
                    </td>
                </tr>
                <tr style="border: 1px solid; border-color: rgb(166, 201, 226);">
                    <td height="40" colspan="2">
                        <p style="margin-left: 10px; margin-top: 10px;">
                            <b>Subject:</b>
                             @Html.DropDownList("cmbMessageType", Model.MessageType.ToMessageTypeModelSelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:403px; margin-left:45px;", id = "cmbMessageType" })

                        </p>
                    </td>
                </tr>
                <tr style="border: 1px solid; border-color: rgb(166, 201, 226);">
                    <td height="40" colspan="2">
                        <p style="margin-left: 10px; margin-top: 10px;">
                           <b>Urgent:</b>
                               <select id="cmbMessageUrgency" class="txt" style="width:90px; margin-left:47px;">
                     
                      
                      <option value="false" selected="selected">No</option><option value="true">Yes</option>
</select>  
                           @*  @Html.DropDownList("cmbMessageUrgency", Model.MessageUrgencyType.ToMessageUrgencySelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:170px; margin-left:20px;", id = "cmbMessageUrgency" })*@
                            @* <select style="margin-left: 0px; margin-top: -15px; width: 100px;" class="txt">
                                <option>Arial</option>
                            </select>
                            <select style="margin-left: 0px; margin-top: -15px; width: 70px;" class="txt">
                                <option>12</option>
                            </select>
                            <button>
                                <img src="Content/img/bold.png" width="20px"></button>
                            <button>
                                <img src="Content/img/italic.png" width="20px"></button>
                            <button>
                                <img src="Content/img/underline.png" width="20px"></button>*@
                        </p>
                    </td>
                </tr>
                <tr style="border: 1px solid; border-color: rgb(166, 201, 226);">
                    <td height="150" colspan="2" bgcolor="#FFFFFF"> 
                   <textarea id="txtMessageWrite" class="txt" rows="5" cols="45" style="height:150px; width:685px;" maxlength="256"> </textarea>
                    </td>
                </tr>   <tr><td><div id="counter" style="text-align:right;"></div></td></tr>
            </table>
        </div>
    </div>
<div id="appbtn-form" title="Appointment Request">
    <center>  <span   class="validateTips"></span></center>
    <table width="100%" height="433" border="0
        " cellpadding="0" cellspacing="2">
        <tr>
            <td width="250" height="35" align="right">Location :</td>
            <td width="2">&nbsp;</td>
            <td colspan="2">
          
                @Html.DropDownList("cmbAppointmentFacility1", Model.MessageFacilities.ToFacilityModelWithoutPatientEnteredSelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:400px;", id = "cmbAppointmentFacility1", @onchange = "LoadFacityProvider();" })
                <span id="apDiv9">

    

</span>
            </td>
        </tr>
        <tr>
            <td width="250" height="35" align="right">Provider :</td>
            <td align="right">&nbsp;</td>
            <td colspan="2">
                <div id="DivFacityProvider">
                @Html.Partial("_FacilityProvider", Model.Providers)
                @*@Html.DropDownList("cmbAppointmentDoctor1", Model.Providers.ToProviderModelSelectList(), new { @class = " txt  ui-corner-all bcom", style = "width:400px;", id = "cmbAppointmentDoctor1" })*@
            </div>
                    </td>
        </tr>
        <tr>
              <td  ><div style="float:right;margin-Top:4px;">Urgent :</div></td>
                    <td align="right">&nbsp;</td>
                        <td  colspan="2">
                            <select id="cmbMessageUrgency1" class="txt" style="width:90px">
                     @* <option value="-1">--Select--</option>*@
                      
                      <option value="false" selected="selected">No</option><option value="true">Yes</option>
</select>    
                            @*<div style="margin-left:0px;">
                              @Html.DropDownList("cmbMessageUrgency1", Model.MessageUrgencyType.ToMessageUrgencySelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:150px; ", id = "cmbMessageUrgency1" })
                          </div>*@
                        </td>
        </tr>
        <tr>
            <td width="250"  align="right" style="padding-top:7px;" valign="Top">Preferred Time of Day :</td>
            <td>&nbsp;</td>
            <td colspan="2">
                <table width="439" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                         <td >
                            <input type="checkbox" name="mor_chk" id="chkmor" style=""/></td>
                        <td width="50"><div style="margin-left:5px;margin-Top:4px;">Morning</div></td>
                        <td width="21">
                            <input type="checkbox" name="aft_chk" id="chkAft" style="margin-left:10px;"/></td>
                        <td width="68"  ><div style="margin-left:5px;margin-Top:4px;">Afternoon</div></td>
                        <td width="21">
                            <input type="checkbox" name="eve_chk" id="chkeve" style="margin-left:10px;" /></td>
                        <td width="84"  ><div style="margin-left:5px;margin-Top:4px;">Evening</div></td>
                        <td width="61"  ><div style="margin-left:15px;margin-Top:4px;"></div></td>
                        <td width="119">
                            <div style="margin-left:3px;">
                             @* @Html.DropDownList("cmbMessageUrgency1", Model.MessageUrgencyType.ToMessageUrgencySelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:150px; margin-left:20px;", id = "cmbMessageUrgency1" })*@
                          </div>
                        </td>
                    </tr>
                </table>
                <label for="urg_com"></label>
            </td>
        </tr>
        <tr>
            <td width="250" valign="Top" style="padding-top:7px;" align="right">Preferred Day :</td>
            <td>&nbsp;</td>
            <td colspan="2">
                <table width="445" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                 <td >
                            <input type="checkbox" name="mon_chk" id="chkmon" style="" /></td>
                        <td ><div style="margin-left:2px;margin-top:4px;">Monday</div></td>
                        <td >
                            <input type="checkbox" name="tue_chk" id="chktue" style="margin-left:10px;"/></td>
                        <td ><div style="margin-left:2px;margin-top:4px;"">Tuesday</div></td>
                        <td >
                            <input type="checkbox" name="wed_chk" id="chkwed" style="margin-left:10px;"/></td>
                        <td ><div style="margin-left:2px;margin-top:4px;"">Wednesday</div></td>
                        <td >
                            <input type="checkbox" name="thu_chk" id="chkthu" style="margin-left:10px;"/></td>
                        <td ><div style="margin-left:2px;margin-top:4px;"">Thursday</div></td>
                        
                    </tr>
                    <tr>
<td >
                            <input type="checkbox" name="fri_chk" id="chkfri" /></td>
                        <td ><div style="margin-left:2px;margin-top:4px;">Friday</div></td>
                        <td >
                            <input type="checkbox" name="fri_chk" id="chksat" style="margin-left:10px;"/></td>
                        <td ><div style="margin-left:2px;margin-top:4px;">Saturday</div></td>
                        <td >
                            <input type="checkbox" name="fri_chk" id="chksun" style="margin-left:10px;"/></td>
                        <td ><div style="margin-left:2x;margin-top:4px;">Sunday</div></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td width="250" height="35" align="right">Preferred Date Range :</td>
            <td>&nbsp;</td>
            <td colspan="2">
                <table width="367" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                        <td width="118">
                            <input type="text" name="pref_txt" id="txtPrefDateFrom" class="com" /></td>
                        <td>    <img id="show-date-PreferedStart" src="Content/img/calender.png" style="margin-top:-3px; cursor:pointer; margin-left:-15px;"/></td>
                        <td width="19">&nbsp;</td>
                        <td width="19">&nbsp;</td>
                        <td width="216">
                            <input type="text" name="pref_txt" id="txtPrefDateTo" class="com" /></td>
                        <td>    <img id="show-date-PreferredEnd" src="Content/img/calender.png" style="margin-top:-3px; cursor:pointer; margin-left:-105px;"/></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td width="250" height="35" align="right">Preferred Time: </td>
            <td>&nbsp;</td>
            <td colspan="2">
                <select name="preft_com" id="cmbPreftime" class="com">
                      <option value="-1">--select--</option>                    
  <option value="7">7:00 am</option>
  <option value="8">8:00 am</option>
  <option value="9">9:00 am</option>
  <option value="10">10:00 am</option>
  <option value="11">11:00 am</option>
  <option value="12">12:00 pm</option>
  <option value="13">1:00 pm</option>
  <option value="14">2:00 pm</option>
  <option value="15">3:00 pm</option>
  <option value="16">4:00 pm</option>
  <option value="17">5:00 pm</option>
  <option value="18">6:00 pm</option>
 <option value="19">7:00 pm</option>
  <option value="20">8:00 pm</option>
                </select>
                
            </td>
        </tr>
        <tr>
            <td width="250" height="33" align="right">Reason for Visit :</td>
            <td>&nbsp;</td>
            <td colspan="2">
                <input type="text" name="reas_txt" id="txtReason" class="btxt" /></td>
        </tr>
        <tr>
            <td width="250" align="right">Comments :</td>
            <td>&nbsp;</td>
            <td colspan="2">
                <textarea name="comm_txta" cols="45" rows="5" class="btxta" id="txtComment" maxlength="256"></textarea></td>
        </tr>
       <tr>
            
            <td colspan="3" align="right"><div id="appcount"></div></td>
        </tr>


    </table>

</div>
<div id="dialog-refill" title="Refill Request">
    <center>  <span   class="validateTips"></span></center>
    <table border="0" width="100%" height="300px">
        <tr>
            <td width="30%" height="40"><span class="form_text" style="color: #000066;">Location:</span></td>
            <td>

                  @Html.DropDownList("cmbAppointmentFacilityRefill", Model.MessageFacilities.ToFacilityModelWithoutPatientEnteredSelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:400px;", id = "cmbAppointmentFacilityRefill", @onchange = "LoadFacityProviderRefil();LoadRefilmediaction();" })
    

            </td>
        </tr>
        <tr>
            <td width="30%" class="form_text" style="color: #000066;">Doctor: </td>
            <td>
                <div id="refildiv">
                @Html.Partial("_CmbRefildoctorDropDown", Model.Providers)
                    </div>

           @*    @Html.DropDownList("cmbDoctor", Model.Providers.ToProviderModelSelectList(), new { @class = " txt  ui-corner-all", style = "width:200px;", id = "cmbDoctor" })*@

            </td>
        </tr>
        <tr>
            <td width="30%" height="40"><span class="form_text" style="color: #000066;">Medication:</span></td>
            <td>
                <div id="refilmed">
                @Html.Partial("_Index_RefillMedication", Model.Medications)
                    </div>
            </td>
        </tr>


        

        <tr>
            <td width="30%" class="form_text" style="color: #000066;">Number of Refills: </td>
            <td>
                <input type="text" name="txtCountRefills" id="txtCountRefills" class="txt ui-corner-all" />
            </td>
        </tr>
        <tr>
            <td width="30%" class="form_text" style="color: #000066;">Pharmacy: </td>
            <td>
                <table>
<tr><td>
<div id="cmbPharmacy">

          
                 @Html.Action("RefillPharmacypartialview", "Home", new { @class = "txt  ui-corner-all", style = "width:200px;", id = "cmbRFPharmacy"  })
              
 </div>
</td>
<td><span><img  src="Content/img/add.png" />
<span id="addPharmacy" class="anc" onclick="OpenPharmacyDialoge();" style="font-size: 13px; padding-right: 17px;">Add</span></span>
</td>
</tr>
</table>
               <div > </div> <div id="PharmAddress" style="color:red;"></div><div><input type="hidden" id="Phone" value="" /></div>
            </td>
            
        </tr>

        <tr>
            <td width="30%" class="form_text" style="color: #000066;">Comments: </td>
            <td>
                <textarea multiline="true" style="height: 96px; width: 453px;" id="txtComments" rows="3" cols="5" class="txt  ui-corner-all" maxlength="256"></textarea>
            </td>
        </tr>


          <tr>
            
            <td colspan="3" align="right"><div id="refillcount"></div></td>
        </tr>

    </table>

</div>
<div id="reqbtn-form" title="Referral Request">
    <table width="100%" border="0" cellpadding="0" cellspacing="2">
        <tr>
            <td width="250" height="35" align="right">Location :</td>
            <td width="2">&nbsp;</td>
            <td width="571">
               
                   @Html.DropDownList("cmbAppointmentFacility3", Model.MessageFacilities.ToFacilityModelWithoutPatientEnteredSelectList(), new { @class = "txt  ui-corner-all bcom", style = "width:400px;", id = "cmbAppointmentFacility3", @onchange = "LoadFacilityProviderRequestRefferal();" })
         <span id="apDiv9">

    <img id="loader4" src="Content/img/login-loaderwhite.gif" style="margin-left: 420px; margin-top: -30px; display: none;"></img>

</span>
            </td>
        </tr>

        <tr>
            <td width="250" height="35" align="right">Send Request to :</td>
            <td width="2">&nbsp;</td>
            <td width="571">
                
                  <div id="DivFacilityProviderRequestRefferal">
                @Html.Partial("_FacilityProviderRequestRefferal", Model.Providers)
                
            </div>
                   @*@Html.DropDownList("cmbRProvider", Model.Providers.ToProviderModelSelectList(), new { @class = " txt  ui-corner-all bcom", style = "width:400px;", id = "cmbRProvider" })*@
         </td>
        </tr>
        <tr>
            <td width="250" height="35" align="right">Reason for Referral :</td>
            <td align="right">&nbsp;</td>
            <td>
                <input type="text" name="reas_txt3" id="txtReqRes" class="btxt" /></td>
        </tr>
        <tr>
            <td width="250" height="35" align="right">Comments :</td>
            <td>&nbsp;</td>
            <td>
                <textarea name="comm_txta2" cols="45" rows="5" class="btxta" id="txtRComm" maxlength="256"></textarea></td>
        </tr>
           <tr>
            
            <td colspan="3" align="right">
                <div id="referallcount"></div>

            </td>
        </tr>
       
    </table>


</div>
<div id="dialog-pharmacy" title="Add a Pharmacy">
           
    <table border="0" width="100%">

        <tr>
            <td align="right" width="140px;"><span style="color:red;"  >*</span><span class="form_text"  >Pharmacy Name : </span></td>
            <td>
                <input type="hidden" id="txtPharmID" value="0" />
                <input type="text" name="name" id="txtPharmacyName" class="txt ui-corner-all" style="width: 240px;"/>
            </td>
        </tr>
           <tr>
        <td align="right"><span style="color:red;"  >*</span><span class="form_text" >Address Line 1 : </span> </td>
                <td>
                <input type="text" name="name" id="txtPharmAddress1" style="width: 240px;" class="txt ui-corner-all" />
            </td>
        </tr>
        <tr>
            <td align="right"><span class="form_text" >Address Line 2 : </span></td>
           
            <td>
                <input type="text" name="name" id="txtPharmAddress2" style="width: 240px;" class="txt ui-corner-all" /></td>
        </tr>
            <tr>
            <td align="right"><span style="color:red;"  >*</span><span class="form_text" >City : </span></td>
           
            <td>
                <input type="text" name="name" id="txtPharmCity" class="txt ui-corner-all" width="150px;" /></td>
          
        </tr>

            <tr>
            <td align="right"><span style="color:red;"  >*</span><span class="form_text" >State : </span></td>
           
           <td>
                @*<input type="text" name="name" id="txtPharmState" class="txt ui-corner-all" />*@
               <select style="visibility: visible;" class="coms" name="state" id="cmbStates" tabindex="11">
									
										<option value="AL">AL</option>
									
										<option value="AK">AK</option>
									
										<option value="AS">AS</option>
									
										<option value="AZ">AZ</option>
									
										<option value="AR">AR</option>
									
										<option value="AA">AA</option>
									
										<option value="AE">AE</option>
									
										<option value="AP">AP</option>
									
										<option value="CA">CA</option>
									
										<option value="CO">CO</option>
									
										<option value="CT">CT</option>
									
										<option value="DE">DE</option>
									
										<option value="DC">DC</option>
									
										<option value="FL">FL</option>
									
										<option value="GA">GA</option>
									
										<option value="GU">GU</option>
									
										<option value="HI">HI</option>
									
										<option value="ID">ID</option>
									
										<option value="IL">IL</option>
									
										<option value="IN">IN</option>
									
										<option value="IA">IA</option>
									
										<option value="KS">KS</option>
									
										<option value="KY">KY</option>
									
										<option value="LA">LA</option>
									
										<option value="ME">ME</option>
									
										<option value="MH">MH</option>
									
										<option value="MD">MD</option>
									
										<option value="MA">MA</option>
									
										<option value="MI">MI</option>
									
										<option value="FM">FM</option>
									
										<option value="MN">MN</option>
									
										<option value="MS">MS</option>
									
										<option value="MO">MO</option>
									
										<option value="MT">MT</option>
									
										<option value="NE">NE</option>
									
										<option value="NV">NV</option>
									
										<option value="NH">NH</option>
									
										<option value="NJ">NJ</option>
									
										<option value="NM">NM</option>
									
										<option value="NY">NY</option>
									
										<option value="NC">NC</option>
									
										<option value="ND">ND</option>
									
										<option value="MP">MP</option>
									
										<option value="OH">OH</option>
									
										<option value="OK">OK</option>
									
										<option value="OR">OR</option>
									
										<option value="PW">PW</option>
									
										<option value="PA">PA</option>
									
										<option value="PA">PA</option>
									
										<option value="PR">PR</option>
									
										<option value="RI">RI</option>
									
										<option value="SC">SC</option>
									
										<option value="TN">TN</option>
									
										<option value="TX">TX</option>
									
										<option value="UT">UT</option>
									
										<option value="VT">VT</option>
									
										<option value="VI">VI</option>
									
										<option value="VA">VA</option>
									
										<option value="WA">WA</option>
									
										<option value="WV">WV</option>
									
										<option value="WI">WI</option>
									
										<option value="WY">WY</option>
									
										<option value="SD">SD</option>
									
								</select>
            </td>
        </tr>

        <tr>
            <td align="right"><span style="color:red;"  >*</span><span class="form_text" >Zip Code : </span></td>
           
          <td>
                <input type="text" name="name" id="txtPharmZipCode" class="txt ui-corner-all" style="width: 100px;" />
            </td>
        </tr>


          <tr>
            <td align="right"><span class="form_text" >Phone : </span></td>
           
          <td>
                <input type="text" name="name" id="txtPhone" style="width: 190px;" class="txt ui-corner-all" />
            </td>
        </tr>
           <tr>
            <td align="right"><span class="form_text" >Website : </span></td>
           
          <td>
       <input type="text" name="name" id="txtWebsite" style="width: 240px;" class="txt ui-corner-all" />
            </td>
        </tr>



      
        
    </table>

  
    <table style="margin-top: -15px;">
        <tr>
          
        </tr>
        
    </table>

 
    <h3 style="margin-top: 25px; color: rgb(29, 89, 135); font-size: 22px;">Preferred Pharmacy</h3>
    <table>
        <tr>
            <td width="30%"><span class="form_text">
                <input name="chk" type="checkbox" value="" id="chkPref">
            </span></td>
            <td width="-20%"><span class="form_text" style="margin-left: -80px; color: #9B9B9B;">Would you like to make this your preferred pharmacy?</span> </td>
        </tr>
    </table>
</div>
<div id="dialog-confirm">

</div>



@Scripts.Render("~/ProblemIndex/jquery")
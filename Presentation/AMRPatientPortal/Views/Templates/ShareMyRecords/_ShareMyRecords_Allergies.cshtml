@model IEnumerable<AMR.Models.AllergyModel>
@using System.Web.Script.Serialization;
@using System.Globalization;
<table class="box-table-a" id="tbl-SharedAllergies" summary="Allergies">
                            <thead>
                                <tr>
                                    <th scope="col">Effective Date</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Allergen Type</th>
                                    <th scope="col">Reaction</th>
                                    <th scope="col">Notes</th>
                                    <th scope="col">Status</th>
                               </tr>
                            </thead>
                         
                   <tbody>
                   @if (Model != null && Model.Count() > 0)
                       
                                {
                                
                                    int counter = 0;
                                    
                                    foreach (var item in Model)
                                    {
                                       
                                   
                                    
                        <tr class="@((counter % 2 == 0) ? "r0" : "r1")">
                             @{
                                DateTime dtexDate;
                                if (item.EffectiveDate.Length == 8 && DateTime.TryParseExact(item.EffectiveDate, "yyyyMMdd", System.Globalization.CultureInfo.InvariantCulture, System.Globalization.DateTimeStyles.None, out dtexDate))
                                {
                                    DateTime dtEff = DateTime.ParseExact(item.EffectiveDate, "yyyyMMdd", null);
                                    string s = dtEff.ToString("MM/dd/yyyy");

                                    <td>@s</td>
                                }
                                else if ((item.EffectiveDate).Trim().Length == 6)
                                {
                                    string strYear = item.EffectiveDate.Substring(0, 4);
                                    string strMonth = item.EffectiveDate.Substring(4, 2);
                                    string strEffectiveDate = strMonth + "/" + strYear;
                                        <td>@strEffectiveDate</td>
                                }
                                else
                                {
                                    <td>@item.EffectiveDate</td>
                                }
                            } 
                        
                        <td>@item.Allergen</td>
                        <td>@item.AllergenType</td>
                        <td>@item.Reaction</td>
                        <td>@item.Note</td>
                        <td>@item.ConditionStatus</td>
                   
                        </tr>  
                                        counter++;
                                    }
                                }
                        else
                        {
                          <tr><td>No Information Available</td></tr>
                        }
                    </tbody>




                            </table>